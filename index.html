<!doctype html><html lang="pt-BR"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Open Data - Listas</title><style>:root{--bg:#0c0d10;--panel:#14161b;--text:#e7e9ee;--muted:#a9aebb;--accent:#6ea8fe;--border:#242833;--g1:#2a6cf7;--g2:#8a5cf6;--g3:#ff6ec7}*{box-sizing:border-box}html,body{height:100%}body{margin:0;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Arial,"Apple Color Emoji","Segoe UI Emoji";background:linear-gradient(180deg,var(--bg),#0f1116 30%);color:var(--text)}.site-header{padding:44px 16px 16px;text-align:center;background:radial-gradient(1200px 300px at 50% -40px,rgba(80,120,255,.12),transparent),linear-gradient(180deg,rgba(255,255,255,.02),transparent 60%)}.site-header h1{margin:0 0 6px;font-size:32px;background:linear-gradient(90deg,var(--text),#cfe0ff);-webkit-background-clip:text;background-clip:text;color:transparent}.site-header .subtitle{margin:0;color:var(--muted)}.container{max-width:1000px;margin:0 auto;padding:16px}.status{color:var(--muted);margin:16px 0}.controls{display:grid;gap:12px;margin:6px 0 14px}.summary{color:var(--muted)}.search-bar{display:flex;justify-content:center}.search-bar input[type=search]{width:min(720px,100%);padding:12px 14px;border-radius:12px;border:1px solid var(--border);background:#0f1218;color:var(--text);outline:0;transition:border-color .12s,box-shadow .12s,background .2s}.search-bar input[type=search]::placeholder{color:#868e9c}.search-bar input[type=search]:focus{border-color:#2b3350;box-shadow:0 0 0 3px rgba(110,168,254,.15);background:#101521}.list-grid{list-style:none;padding:0;margin:16px 0;display:grid;gap:12px;grid-template-columns:repeat(auto-fill,minmax(260px,1fr))}.groups{display:grid;gap:22px;min-height:720px}.groups.loaded{min-height:auto}.group{padding-top:2px}.group-title{margin:8px 2px 6px;font-size:18px;font-weight:700;color:#e9ecf5}.group-title small{color:var(--muted);font-weight:500;margin-left:6px}.list-item{position:relative;background:linear-gradient(var(--panel),var(--panel)) padding-box,linear-gradient(135deg,var(--g1),var(--g2),var(--g3)) border-box;border:1px solid transparent;border-radius:14px;padding:14px;min-height:96px;transition:transform .08s,box-shadow .12s,opacity .15s;box-shadow:0 1px 0 rgba(0,0,0,.25),0 6px 20px rgba(0,0,0,.15)}.list-item a{display:block;color:var(--text);text-decoration:none;font-weight:700;letter-spacing:.2px;font-size:15px}.list-item small{display:block;color:var(--muted);margin-top:6px;font-size:12px}.list-item:hover{transform:translateY(-1.5px);box-shadow:0 10px 28px rgba(0,0,0,.22)}.list-item .emoji{margin-right:8px;filter:saturate(1.1)}.table-wrap{overflow:auto;border-radius:10px;border:1px solid var(--border);background:var(--panel)}.data-table{width:100%;border-collapse:collapse;min-width:560px}.data-table thead th{position:sticky;top:0;background:#171a20}.data-table th,.data-table td{padding:10px 12px;border-bottom:1px solid var(--border);text-align:left}.data-table tbody tr:hover{background:#151821}.site-footer{text-align:center;padding:24px 16px 40px;color:var(--muted)}.site-footer code{color:var(--muted)}.skeleton-group{opacity:.7}.skeleton-bar{display:inline-block;width:200px;height:18px;border-radius:8px;background:linear-gradient(90deg,rgba(80,90,120,.4),rgba(120,140,170,.6),rgba(80,90,120,.4));background-size:200% 100%;animation:shimmer 1.4s infinite}.skeleton-card{position:relative;border:1px solid var(--border);border-radius:14px;min-height:96px;background:linear-gradient(90deg,rgba(40,44,60,.4),rgba(60,70,90,.6),rgba(40,44,60,.4));background-size:200% 100%;animation:shimmer 1.2s infinite;box-shadow:none}.skeleton-card::after{content:'';position:absolute;left:18px;top:22px;width:60%;height:12px;border-radius:6px;background:rgba(255,255,255,.08)}.skeleton-card::before{content:'';position:absolute;left:18px;top:46px;width:40%;height:10px;border-radius:6px;background:rgba(255,255,255,.06)}.groups.loaded .skeleton-group{display:none}@keyframes shimmer{0%{background-position:200% 0}100%{background-position:-200% 0}}</style></head><body><header class="site-header"><h1>Open Video Game Data</h1><p class="subtitle">Escolha uma lista para ver o CSV agregado</p></header><main class="container"><section class="controls" id="main-list"><div class="search-bar"><input id="search" type="search" placeholder="Buscar listas..." autocomplete="off"></div><div id="summary" class="summary" aria-live="polite"></div></section><section id="home"><div id="h-status" class="status">Carregando listas...</div><div id="groups" class="groups" aria-live="polite"><section class="group skeleton-group" aria-hidden="true"><h2 class="group-title"><span class="skeleton-bar"></span></h2><ul class="list-grid"><li class="list-item skeleton-card"></li><li class="list-item skeleton-card"></li><li class="list-item skeleton-card"></li><li class="list-item skeleton-card"></li></ul></section><section class="group skeleton-group" aria-hidden="true"><h2 class="group-title"><span class="skeleton-bar"></span></h2><ul class="list-grid"><li class="list-item skeleton-card"></li><li class="list-item skeleton-card"></li><li class="list-item skeleton-card"></li><li class="list-item skeleton-card"></li></ul></section></div></section><section id="detail" style="display:none"><nav class="back-link"><a href="./">&larr; Voltar</a></nav><h2 id="page-title">Lista</h2><div id="d-status" class="status">Carregando CSV...</div><div class="table-wrap"><table id="data-table" class="data-table" hidden><thead id="table-head"></thead><tbody id="table-body"></tbody></table></div><div class="status"><small>Fonte: <code id="csv-path"></code></small></div></section></main><footer class="site-footer"><small>Gerado dinamicamente a partir da pasta <code>list/</code></small></footer><script>window.__LIST_MANIFEST__={"lists":["best_action_adventure_games_of_all_time","best_fighting_games_of_all_time","best_games_of_1995","best_games_of_1996","best_games_of_1997","best_games_of_1998","best_games_of_1999","best_games_of_2000","best_games_of_2001","best_games_of_2002","best_games_of_2003","best_games_of_2004","best_games_of_2005","best_games_of_2006","best_games_of_2007","best_games_of_2008","best_games_of_2009","best_games_of_2010","best_games_of_2011","best_games_of_2012","best_games_of_2013","best_games_of_2014","best_games_of_2015","best_games_of_2016","best_games_of_2017","best_games_of_2018","best_games_of_2019","best_games_of_2020","best_games_of_2021","best_games_of_2022","best_games_of_2023","best_games_of_2024","best_games_of_all_time","best_games_of_master_system","best_games_of_meta_quest_3","best_games_of_the_atari","best_games_of_the_dreamcast","best_games_of_the_gamecube","best_games_of_the_game_boy","best_games_of_the_game_boy_advance","best_games_of_the_game_boy_color","best_games_of_the_mega_drive","best_games_of_the_meta_quest_2","best_games_of_the_nes","best_games_of_the_nintendo_3ds","best_games_of_the_nintendo_64","best_games_of_the_nintendo_ds","best_games_of_the_nintendo_switch","best_games_of_the_playstation_1","best_games_of_the_playstation_2","best_games_of_the_playstation_3","best_games_of_the_playstation_4","best_games_of_the_playstation_5","best_games_of_the_psp","best_games_of_the_psvr","best_games_of_the_psvr_2","best_games_of_the_ps_vita","best_games_of_the_snes","best_games_of_the_wii","best_games_of_the_wii_u","best_games_of_the_xbox","best_games_of_the_xbox_360","best_games_of_the_xbox_one","best_games_of_the_xbox_series_x_s","best_grand_strategy_games_of_all_time","best_indie_games_of_2023","best_indie_games_of_all_time","best_indie_games_of_the_nintendo_switch","best_mmorpg_games_of_all_time","best_mobile_games_of_all_time","best_narrative_games_of_all_time","best_open-world_games_of_all_time","best_pc_games_of_all_time","best_rpg_games_of_all_time","best_rts_games_of_all_time","best_steam_deck_games","best_survival_horror_games_of_all_time","best_vr_games_of_all_time","best_walking_simulator_games_of_all_time","most_anticipated_games_of_2023","most_anticipated_games_of_2024","most_anticipated_games_of__2025"]};</script><script>(()=>{"use strict";const $=s=>document.querySelector(s),qs=k=>new URLSearchParams(location.search).get(k)||"",humanize=n=>n.replace(/_/g," ").replace(/\s+/g," ").trim().replace(/\b\w/g,c=>c.toUpperCase()),categorize=n=>n==="best_games_of_all_time"?"Geral":/^most_anticipated_games_of_/i.test(n)?"Anticipados":/^best_.*_of_\d{4}$/i.test(n)?"Anuais":/^best_games_of_the_/i.test(n)||/(pc|mobile|vr|steam_deck)/i.test(n)||/best_games_of_(master_system|meta_quest_2|meta_quest_3)$/i.test(n)?"Plataformas":/(action_adventure|fighting|grand_strategy|rpg|rts|survival_horror|walking_simulator|narrative|open[-_]?world|indie)/i.test(n)?"Generos":"Outros";function parseCSV(t){const r=[],l=t.length;let i=0,f="",a=[],q=!1;for(;i<l;){const c=t[i++];if(q){if(c==='"'){t[i]==='"'?(f+='"',i++):q=!1}else f+=c}else if(c==='"')q=!0;else if(c===','){a.push(f),f=""}else if(c==='\n'){a.push(f),r.push(a),a=[],f=""}else if(c!=='\r')f+=c}return f.length||a.length?(a.push(f),r.push(a),r):r}const stripYear=t=>{const m=/^(.*)\s+\((\d{4})\)$/.exec(t||"");return (m?m[1]:t||"").trim()};
const coverUrlSmall=c=>`https://images.igdb.com/igdb/image/upload/t_cover_small/${c}.jpg`;
async function enrichMiniCovers(listName,container,limit=4){
  try{
    const aggUrl=`list/${encodeURIComponent(listName)}/aggregated-list.csv`;
    const aggRes=await fetch(aggUrl,{headers:{Accept:"text/csv, */*"}});
    if(!aggRes.ok) return;
    const rows=parseCSV(await aggRes.text());
    const header=rows[0]||[]; const data=rows.slice(1);
    const idxTitle=header.indexOf("Title");
    const top=(idxTitle>=0?data.slice(0,limit).map(r=>{const t=r[idxTitle]||""; const m=/^(.*)\s+\((\d{4})\)$/.exec(t); return (m?m[1]:t).trim();}):[]);
    if(!top.length) return;
    const aboutRes=await fetch(`list/${encodeURIComponent(listName)}/about.csv`,{headers:{Accept:"text/csv, */*"}});
    if(!aboutRes.ok) return;
    const aboutRows=parseCSV(await aboutRes.text());
    const ah=aboutRows[0]||[]; const ad=aboutRows.slice(1);
    const idxPath=ah.indexOf("GeneratedCsvPath");
    const rels=idxPath>=0?ad.map(r=>r[idxPath]).filter(Boolean):[];
    const map=new Map();
    for(const rel of rels){
      try{
        const parts=rel.split('/').map(encodeURIComponent).join('/');
        let url=`list/${encodeURIComponent(listName)}/${parts}`;
        let r=await fetch(url,{headers:{Accept:"text/csv, */*"}});
        if(!r.ok && !rel.includes('/')){
          const di=rel.indexOf(' - ');
          if(di>0){
            const src=rel.slice(0,di);
            const url2=`list/${encodeURIComponent(listName)}/${encodeURIComponent(src)}/${encodeURIComponent(rel)}`;
            const r2=await fetch(url2,{headers:{Accept:"text/csv, */*"}});
            if(r2.ok) r=r2; else continue;
          } else continue;
        }
        const srows=parseCSV(await r.text());
        const sh=srows[0]||[]; const sd=srows.slice(1);
        const iTitle=sh.indexOf("Title"); const iCover=sh.indexOf("CoverImageId");
        if(iTitle<0||iCover<0) continue;
        sd.forEach(cols=>{ const t=(cols[iTitle]||"").trim(); const code=(cols[iCover]||"").trim(); const m=/^(.*)\s+\((\d{4})\)$/.exec(t); const key=(m?m[1]:t).trim(); if(t&&code&&top.includes(key)&&!map.has(key)) map.set(key,code); });
        if(map.size>=top.length) break;
      }catch(e){}
    }
    container.innerHTML="";
    top.forEach(t=>{ const code=map.get(t); if(!code) return; const img=document.createElement("img"); img.src=coverUrlSmall(code); img.alt=t; img.title=t; img.width=56; img.height=76; img.style.borderRadius="8px"; img.style.objectFit="cover"; container.appendChild(img); });
  }catch(e){}
}function tableView(name){const home=$("#home"),detail=$("#detail"),status=$("#d-status"),thead=$("#table-head"),tbody=$("#table-body"),tbl=$("#data-table"),pathEl=$("#csv-path");home.style.display="none";detail.style.display="block";document.title="Open Data - Lista";$("#page-title").textContent=humanize(name);const p=`list/${encodeURIComponent(name)}/aggregated-list.csv`;pathEl.textContent=p;fetch(p,{headers:{Accept:"text/csv, */*"}}).then(r=>{if(!r.ok)throw new Error(r.status);return r.text()}).then(txt=>{const data=parseCSV(txt),h=data[0]||[],rows=data.slice(1),tr=document.createElement("tr");h.forEach(x=>{const th=document.createElement("th");th.textContent=x,tr.appendChild(th)}),thead.innerHTML="",thead.appendChild(tr);const frag=document.createDocumentFragment();rows.forEach(cols=>{const tr=document.createElement("tr");cols.forEach((c,idx)=>{const td=document.createElement("td");td.textContent=c,/^\d+(?:[\.,]\d+)?$/.test(c)&&(td.style.textAlign="right"),0===idx&&(td.style.fontWeight="600"),tr.appendChild(td)}),frag.appendChild(tr)}),tbody.innerHTML="",tbody.appendChild(frag),tbl.hidden=!1,status.textContent=`${rows.length} itens`}).catch(e=>{console.error(e),status.textContent="Falha ao carregar o CSV. Verifique o caminho ou servidor."})}function indexView(){const status=$("#h-status"),groups=$("#groups"),summary=$("#summary"),search=$("#search");let names=[];Array.isArray(window.__LIST_MANIFEST__?.lists)&&(names=[...window.__LIST_MANIFEST__.lists]);const order=["Geral","Generos","Plataformas","Anuais","Anticipados","Outros"],gmap=new Map(order.map(k=>[k,[]]));names.sort((a,b)=>a.localeCompare(b)).forEach(n=>{const cat=categorize(n);gmap.has(cat)||gmap.set(cat,[]),gmap.get(cat).push(n)}),status.textContent="",summary.textContent=`Encontradas ${names.length} listas`;const frag=document.createDocumentFragment();for(const [cat,items]of gmap.entries()){if(!items.length)continue;const sec=document.createElement("section");sec.className="group",sec.dataset.group=cat;const h2=document.createElement("h2");h2.className="group-title",h2.textContent=cat+" ";const sm=document.createElement("small");sm.textContent=`(${items.length})`,h2.appendChild(sm);const ul=document.createElement("ul");ul.className="list-grid",items.forEach(n=>{const li=document.createElement("li");li.className="list-item",li.dataset.name=n.toLowerCase(),li.dataset.group=cat;const a=document.createElement("a");a.href=`?name=${encodeURIComponent(n)}`,a.textContent=humanize(n);const small=document.createElement("small");small.textContent=`list/${n}/aggregated-list.csv`,li.appendChild(a),li.appendChild(small);const mini=document.createElement("div");mini.className="mini-covers";mini.style.display="flex";mini.style.gap="6px";mini.style.marginTop="8px";li.appendChild(mini);enrichMiniCovers(n,mini,4),ul.appendChild(li)}),sec.appendChild(h2),sec.appendChild(ul),frag.appendChild(sec)}groups.innerHTML="",groups.appendChild(frag),groups.classList.add("loaded"),search&&(()=>{const total=names.length,doFilter=()=>{const q=search.value.trim().toLowerCase();let visible=0;groups.querySelectorAll(".list-item").forEach(li=>{const hit=!q||li.dataset.name.includes(q);li.style.display=hit?"":"none",hit&&visible++}),groups.querySelectorAll(".group").forEach(sec=>{const items=Array.from(sec.querySelectorAll(".list-item")),vis=items.filter(li=>li.style.display!=="none").length;sec.style.display=vis?"":"none";const c=sec.querySelector(".group-title small");c&&(c.textContent=`(${vis}/${items.length})`)}),summary.textContent=`${visible} de ${total} listas`};search.addEventListener("input",doFilter),doFilter()})()}document.addEventListener("DOMContentLoaded",()=>{const name=qs("name");name?window.location.replace(`list-cards.html?name=${encodeURIComponent(name)}`):indexView()});})();</script></body></html>
